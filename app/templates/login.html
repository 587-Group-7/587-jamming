<!DOCTYPE html>

<html>

<head>
    <title>Create New Account</title>
    <link href="{{ url_for('static', path='/styles.css') }}" rel="stylesheet">
</head>

<body>
    <header>
        {{ nav|safe }}
    </header>
    <main>
        <div class="section center">
            <h1>Login</h1>
            <p>Please enter your credentials to access your account.</p>
            <div class="form">
                <input type="text" id="username" name="username" placeholder="Username">
                <input type="password" id="password" name="password" placeholder="Password">
                <button type='submit' onClick="login()">Login</button>
                <input type="text" id="username" name="username" value="Login Successful" readonly>
            </div>
        </div>
    </main>
    <script>
        const login = () => {

            // Grab username and password from text entry.
            const username = document.getElementById("username").value;
            const password = document.getElementById("password").value;

            const data = {
                username,
                password
            }


            fetch('/user/login', {
                method: 'POST', // or 'PUT'
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data),
            })
                .then(response => response.json())
                .then(data => {
                    console.log('Success:', data);
                })
                .catch((error) => {
                    console.error('Error:', error);
                });
        };
    </script>
</body>

</html>